     1: 
     2: #include<htc.h>
     3: #include "c:\\tc\\delay.c"
     4: int app , wait , times ,ind;
     5:  void servo_dondur( unsigned char angle )
     6: {
     7: 
     8: 
     9:  wait = 540 +  8* angle   ;
    10: times = wait/ 250;
    11:         
    12:  for (  app = 0 ; app < 6 ; app++ )
    13:  {
    14:   RB0 = 1;
    15: 
    16: 
    17: for( ind = 0 ; ind < times ; ind ++ )
    18: {
    19:   
    20: DelayUs( 250 );
    21: 
    22: 
    23: }
    24: 
    25: DelayUs( wait % 250 - 10 );
    26: 
    27: 
    28: 
    29: 
    30: RB0 = 0;
    31: DelayMs( 19 );
    32:  }
    33:   
    34:   
    35: }
    36: 
    37: 
    38: 
    39: 
    40: void main()
    41: {
    42:         TRISB = 0;
    43:         PORTB = 0;
    44:         int x;
    45:         //servo_dondur( 90 );
    46:         servo_dondur( 20 );
    47: while( 1 )
    48: {
    49: /*
    50:         for( x=0; x < 180 ; x++ )
    51: {
    52:         servo_dondur( x );
    53:         DelayMs( 15 );
    54:         
    55: }
    56: 
    57: */
    58: 
    59: 
    60: }       
    61:         
    62:         
    63: }