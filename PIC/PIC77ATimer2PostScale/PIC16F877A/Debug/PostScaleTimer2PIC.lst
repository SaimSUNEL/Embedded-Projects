     1: 
     2: #include<htc.h>
     3: #include "c:\\Tc\\delay.c"
     4: int sayi = 0;
     5: void interrupt funct()
     6: {
     7:         
     8:         if( TMR2IF == 1)
     9:         {
    10: TMR2IF = 0;
    11:                 sayi ++;
    12:                 
    13:                 if( sayi == 245 )
    14:                 {
    15:                         RB0 = ~RB0;
    16:                         sayi = 0;
    17:                         
    18:                         
    19:                 }
    20:                 
    21:                 
    22:                 
    23:         }
    24:         
    25:         
    26:         
    27:         
    28:         
    29: }
    30: 
    31: 
    32: void main()
    33: {
    34:         TRISB0 = 0;
    35:         PORTB = 0;
    36:         //TMR2 = 0;
    37:         GIE = 1;
    38:         PEIE = 1;
    39:         
    40:         PR2 = 250;
    41:         
    42:         //Presc 1/4
    43:         T2CKPS1 = 0;
    44:         T2CKPS0 = 1;
    45:         
    46:         
    47:         //Postscale 1/4
    48: 
    49:         TOUTPS3 = 0;
    50:         TOUTPS2 = 0;
    51:         TOUTPS1 = 1;
    52:         TOUTPS0 = 1;
    53: 
    54:         TMR2IE =  1;
    55:         
    56:         TMR2ON = 1;
    57:         
    58:         
    59:         while( 1 );
    60:         
    61:         
    62: }